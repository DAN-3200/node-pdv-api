/**
 * 1 - npm install prisma @prisma/client
 * 2 - npx prisma init → cria o diretório prisma/ e o arquivo schema.prisma
 * 3 - Define o modelo e o banco (PostgreSQL, MySQL, SQLite etc.)
 * 4 - npx prisma migrate dev --name init -> envia pro banco
 * 5 - npx prisma generate -> gera bindings ORM JS/TS locais
 */

generator client {
   provider = "prisma-client-js"
}

// datasource db {
//    provider = "postgresql"
//    url      = env("DATABASE_URL")
// }

datasource db {
   provider = "sqlite"
   url      = "file:./database.db"
}

model Product {
   ID        Int         @id @default(autoincrement())
   barcode   String
   name      String
   unit      UnitOptions
   cost      Float
   margin    Float
   price     Float
   stockBase Int
   stockMin  Int
   stockMax  Int
   tags      Tag[]
}

model Tag {
   ID        Int     @id @default(autoincrement())
   key       Float
   text      String
   color     String
   product   Product @relation(fields: [productId], references: [ID], onDelete: Cascade)
   productId Int
}

enum UnitOptions {
   UN
   KG
   Metro
   Litro
   Caixa
   Pacote
   Fardo
}
